(()=>{var e={};e.id=490,e.ids=[490],e.modules={58802:e=>{"use strict";e.exports=require("bcrypt")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},37794:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>l});var s=r(67096),n=r(16132),a=r(37284),i=r.n(a),o=r(32564),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let l=["",{children:["dashboard",{children:["invoices",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27184)),"C:\\Users\\anque\\Dev\\NextTraining\\nextjs-dashboard\\app\\dashboard\\invoices\\page.tsx"]}]},{error:[()=>Promise.resolve().then(r.bind(r,22261)),"C:\\Users\\anque\\Dev\\NextTraining\\nextjs-dashboard\\app\\dashboard\\invoices\\error.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,15581)),"C:\\Users\\anque\\Dev\\NextTraining\\nextjs-dashboard\\app\\dashboard\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,77971)),"C:\\Users\\anque\\Dev\\NextTraining\\nextjs-dashboard\\app\\dashboard\\loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,4362))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,35345)),"C:\\Users\\anque\\Dev\\NextTraining\\nextjs-dashboard\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,4362))).default(e)],twitter:[],manifest:void 0}}],d=["C:\\Users\\anque\\Dev\\NextTraining\\nextjs-dashboard\\app\\dashboard\\invoices\\page.tsx"],u="/dashboard/invoices/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/invoices/page",pathname:"/dashboard/invoices",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},70209:(e,t,r)=>{let s={"3a2b53695d816d9c2a22063377b6341886539b09":()=>Promise.resolve().then(r.bind(r,22569)).then(e=>e.$$ACTION_1),e43200fe4089c49b11cc781a720ec48867c46fd0:()=>Promise.resolve().then(r.bind(r,48553)).then(e=>e.createInvoice),"230896eacb367806648ee424f9a128effa8aa96d":()=>Promise.resolve().then(r.bind(r,48553)).then(e=>e.updateInvoice),dc8e4fc0d616ba2f2b7ef2239a11b9575732fa4d:()=>Promise.resolve().then(r.bind(r,48553)).then(e=>e.deleteInvoice),"28095e2ba3ae7a5c0ebdf63b15c9983b0332102f":()=>Promise.resolve().then(r.bind(r,48553)).then(e=>e.authenticate)};async function n(e,...t){let r=await s[e]();return r.apply(null,t)}e.exports={"3a2b53695d816d9c2a22063377b6341886539b09":n.bind(null,"3a2b53695d816d9c2a22063377b6341886539b09"),e43200fe4089c49b11cc781a720ec48867c46fd0:n.bind(null,"e43200fe4089c49b11cc781a720ec48867c46fd0"),"230896eacb367806648ee424f9a128effa8aa96d":n.bind(null,"230896eacb367806648ee424f9a128effa8aa96d"),dc8e4fc0d616ba2f2b7ef2239a11b9575732fa4d:n.bind(null,"dc8e4fc0d616ba2f2b7ef2239a11b9575732fa4d"),"28095e2ba3ae7a5c0ebdf63b15c9983b0332102f":n.bind(null,"28095e2ba3ae7a5c0ebdf63b15c9983b0332102f")}},20542:(e,t,r)=>{Promise.resolve().then(r.bind(r,51279))},99113:(e,t,r)=>{Promise.resolve().then(r.bind(r,16325)),Promise.resolve().then(r.bind(r,78513)),Promise.resolve().then(r.t.bind(r,88469,23)),Promise.resolve().then(r.t.bind(r,67490,23))},51279:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Error});var s=r(53854),n=r(34218);function Error({error:e,reset:t}){return(0,n.useEffect)(()=>{console.error(e)},[e]),(0,s.jsxs)("main",{className:"flex h-full flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-center",children:"Something went wrong!"}),s.jsx("button",{className:"mt-4 rounded-md bg-blue-500 px-4 py-2 text-sm text-white transition-colors hover:bg-blue-400",onClick:()=>t(),children:"Try again"})]})}},16325:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(53854),n=r(34218);let a=n.forwardRef(function({title:e,titleId:t,...r},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"}))}),i=n.forwardRef(function({title:e,titleId:t,...r},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"}))});var o=r(29395),c=r(75548),l=r.n(c);let d=(e,t)=>t<=7?Array.from({length:t},(e,t)=>t+1):e<=3?[1,2,3,"...",t-1,t]:e>=t-2?[1,2,"...",t-2,t-1,t]:[1,"...",e-1,e,e+1,"...",t];var u=r(51018);function m({totalPages:e}){let t=(0,u.usePathname)(),r=(0,u.useSearchParams)(),n=Number(r.get("page"))||1,a=d(n,e),i=e=>{let s=new URLSearchParams(r);return s.set("page",e.toString()),`${t}?${s.toString()}`};return s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"inline-flex",children:[s.jsx(f,{direction:"left",href:i(n-1),isDisabled:n<=1}),s.jsx("div",{className:"flex -space-x-px",children:a.map((e,t)=>{let r;return 0===t&&(r="first"),t===a.length-1&&(r="last"),1===a.length&&(r="single"),"..."===e&&(r="middle"),s.jsx(h,{href:i(e),page:e,position:r,isActive:n===e},e)})}),s.jsx(f,{direction:"right",href:i(n+1),isDisabled:n>=e})]})})}function h({page:e,href:t,isActive:r,position:n}){let a=(0,o.Z)("flex h-10 w-10 items-center justify-center text-sm border",{"rounded-l-md":"first"===n||"single"===n,"rounded-r-md":"last"===n||"single"===n,"z-10 bg-blue-600 border-blue-600 text-white":r,"hover:bg-gray-100":!r&&"middle"!==n,"text-gray-300":"middle"===n});return r||"middle"===n?s.jsx("div",{className:a,children:e}):s.jsx(l(),{href:t,className:a,children:e})}function f({href:e,direction:t,isDisabled:r}){let n=(0,o.Z)("flex h-10 w-10 items-center justify-center rounded-md border",{"pointer-events-none text-gray-300":r,"hover:bg-gray-100":!r,"mr-2 md:mr-4":"left"===t,"ml-2 md:ml-4":"right"===t}),c="left"===t?s.jsx(a,{className:"w-4"}):s.jsx(i,{className:"w-4"});return r?s.jsx("div",{className:n,children:c}):s.jsx(l(),{className:n,href:e,children:c})}},78513:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(53854),n=r(34218);let a=n.forwardRef(function({title:e,titleId:t,...r},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}))});var i=r(51018);function o({placeholder:e}){let t=(0,i.useSearchParams)(),r=(0,i.usePathname)(),{replace:o}=(0,i.useRouter)(),c=function(e,t,r){var s=this,a=(0,n.useRef)(null),i=(0,n.useRef)(0),o=(0,n.useRef)(null),c=(0,n.useRef)([]),l=(0,n.useRef)(),d=(0,n.useRef)(),u=(0,n.useRef)(e),m=(0,n.useRef)(!0);u.current=e;var h=!t&&0!==t&&!1;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var f=!!(r=r||{}).leading,x=!("trailing"in r)||!!r.trailing,p="maxWait"in r,b="debounceOnServer"in r&&!!r.debounceOnServer,v=p?Math.max(+r.maxWait||0,t):null;return(0,n.useEffect)(function(){return m.current=!0,function(){m.current=!1}},[]),(0,n.useMemo)(function(){var e=function(e){var t=c.current,r=l.current;return c.current=l.current=null,i.current=e,d.current=u.current.apply(r,t)},r=function(e,t){h&&cancelAnimationFrame(o.current),o.current=h?requestAnimationFrame(e):setTimeout(e,t)},n=function(e){if(!m.current)return!1;var r=e-a.current;return!a.current||r>=t||r<0||p&&e-i.current>=v},g=function(t){return o.current=null,x&&c.current?e(t):(c.current=l.current=null,d.current)},w=function e(){var s=Date.now();if(n(s))return g(s);if(m.current){var o=t-(s-a.current);r(e,p?Math.min(o,v-(s-i.current)):o)}},j=function(){if(b){var u=Date.now(),h=n(u);if(c.current=[].slice.call(arguments),l.current=s,a.current=u,h){if(!o.current&&m.current)return i.current=a.current,r(w,t),f?e(a.current):d.current;if(p)return r(w,t),e(a.current)}return o.current||r(w,t),d.current}};return j.cancel=function(){o.current&&(h?cancelAnimationFrame(o.current):clearTimeout(o.current)),i.current=0,c.current=a.current=l.current=o.current=null},j.isPending=function(){return!!o.current},j.flush=function(){return o.current?g(Date.now()):d.current},j},[f,p,t,v,x,h,!1,b])}(e=>{console.log(`Searching... ${e}`);let s=new URLSearchParams(t);s.set("page","1"),e?s.set("query",e):s.delete("query"),o(`${r}?${s.toString()}`)},300);return(0,s.jsxs)("div",{className:"relative flex flex-1 flex-shrink-0",children:[s.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),s.jsx("input",{className:"peer block w-full rounded-md border border-gray-200 py-[9px] pl-10 text-sm outline-2 placeholder:text-gray-500",placeholder:e,onChange:e=>{c(e.target.value)},defaultValue:t.get("query")?.toString()}),s.jsx(a,{className:"absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900"})]})}},22261:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>c});var s=r(95153);let n=(0,s.createProxy)(String.raw`C:\Users\anque\Dev\NextTraining\nextjs-dashboard\app\dashboard\invoices\error.tsx`),{__esModule:a,$$typeof:i}=n,o=n.default,c=o},27184:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_,metadata:()=>D});var s=r(4656),n=r(95153);let a=(0,n.createProxy)(String.raw`C:\Users\anque\Dev\NextTraining\nextjs-dashboard\app\ui\invoices\pagination.tsx`),{__esModule:i,$$typeof:o}=a,c=a.default,l=(0,n.createProxy)(String.raw`C:\Users\anque\Dev\NextTraining\nextjs-dashboard\app\ui\search.tsx`),{__esModule:d,$$typeof:u}=l,m=l.default;var h=r(58639),f=r.n(h),x=r(3542);let p=x.forwardRef(function({title:e,titleId:t,...r},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),b=x.forwardRef(function({title:e,titleId:t,...r},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"}))}),v=x.forwardRef(function({title:e,titleId:t,...r},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))});var g=r(24353),w=r.n(g),j=r(48553);function y(){return(0,s.jsxs)(w(),{href:"/dashboard/invoices/create",className:"flex h-10 items-center rounded-lg bg-blue-600 px-4 text-sm font-medium text-white transition-colors hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:[s.jsx("span",{className:"hidden md:block",children:"Create Invoice"})," ",s.jsx(p,{className:"h-5 md:ml-4"})]})}function E({id:e}){return s.jsx(w(),{href:`/dashboard/invoices/${e}/edit`,className:"rounded-md border p-2 hover:bg-gray-100",children:s.jsx(b,{className:"w-5"})})}function N({id:e}){let t=j.deleteInvoice.bind(null,e);return s.jsx("form",{action:t,children:(0,s.jsxs)("button",{className:"rounded-md border p-2 hover:bg-gray-100",children:[s.jsx("span",{className:"sr-only",children:"Delete"}),s.jsx(v,{className:"w-5"})]})})}var S=r(85399);let I=x.forwardRef(function({title:e,titleId:t,...r},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}))});var P=r(35143);function L({status:e}){return(0,s.jsxs)("span",{className:(0,P.Z)("inline-flex items-center rounded-full px-2 py-1 text-xs",{"bg-gray-100 text-gray-500":"pending"===e,"bg-green-500 text-white":"paid"===e}),children:["pending"===e?(0,s.jsxs)(s.Fragment,{children:["Pending",s.jsx(S.Z,{className:"ml-1 w-4 text-gray-500"})]}):null,"paid"===e?(0,s.jsxs)(s.Fragment,{children:["Paid",s.jsx(I,{className:"ml-1 w-4 text-white"})]}):null]})}var $=r(98760),R=r(95478);async function q({query:e,currentPage:t}){let r=await (0,R.x4)(e,t);return s.jsx("div",{className:"mt-6 flow-root",children:s.jsx("div",{className:"inline-block min-w-full align-middle",children:(0,s.jsxs)("div",{className:"rounded-lg bg-gray-50 p-2 md:pt-0",children:[s.jsx("div",{className:"md:hidden",children:r?.map(e=>s.jsxs("div",{className:"mb-2 w-full rounded-md bg-white p-4",children:[s.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-2 flex items-center",children:[s.jsx(f(),{src:e.image_url,className:"mr-2 rounded-full",width:28,height:28,alt:`${e.name}'s profile picture`}),s.jsx("p",{children:e.name})]}),s.jsx("p",{className:"text-sm text-gray-500",children:e.email})]}),s.jsx(L,{status:e.status})]}),s.jsxs("div",{className:"flex w-full items-center justify-between pt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-medium",children:$.xG(e.amount)}),s.jsx("p",{children:$.p9(e.date)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(E,{id:e.id}),s.jsx(N,{id:e.id})]})]})]},e.id))}),(0,s.jsxs)("table",{className:"hidden min-w-full text-gray-900 md:table",children:[s.jsx("thead",{className:"rounded-lg text-left text-sm font-normal",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-5 font-medium sm:pl-6",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Email"}),s.jsx("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Date"}),s.jsx("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Status"}),s.jsx("th",{scope:"col",className:"relative py-3 pl-6 pr-3",children:s.jsx("span",{className:"sr-only",children:"Edit"})})]})}),s.jsx("tbody",{className:"bg-white",children:r?.map(e=>s.jsxs("tr",{className:"w-full border-b py-3 text-sm last-of-type:border-none [&:first-child>td:first-child]:rounded-tl-lg [&:first-child>td:last-child]:rounded-tr-lg [&:last-child>td:first-child]:rounded-bl-lg [&:last-child>td:last-child]:rounded-br-lg",children:[s.jsx("td",{className:"whitespace-nowrap py-3 pl-6 pr-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(f(),{src:e.image_url,className:"rounded-full",width:28,height:28,alt:`${e.name}'s profile picture`}),s.jsx("p",{children:e.name})]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-3",children:e.email}),s.jsx("td",{className:"whitespace-nowrap px-3 py-3",children:$.xG(e.amount)}),s.jsx("td",{className:"whitespace-nowrap px-3 py-3",children:$.p9(e.date)}),s.jsx("td",{className:"whitespace-nowrap px-3 py-3",children:s.jsx(L,{status:e.status})}),s.jsx("td",{className:"whitespace-nowrap py-3 pl-6 pr-3",children:s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(E,{id:e.id}),s.jsx(N,{id:e.id})]})})]},e.id))})]})]})})})}var O=r(14505),C=r.n(O),k=r(49306);let D={title:"Invoices"};async function _({searchParams:e}){let t=e?.query||"",r=Number(e?.page)||1,n=await (0,R.V_)(t);return(0,s.jsxs)("div",{className:"w-full",children:[s.jsx("div",{className:"flex w-full items-center justify-between",children:s.jsx("h1",{className:`${C().className} text-2xl`,children:"Invoices"})}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-2 md:mt-8",children:[s.jsx(m,{placeholder:"Search invoices..."}),s.jsx(y,{})]}),s.jsx(x.Suspense,{fallback:s.jsx(k.bf,{}),children:s.jsx(q,{query:t,currentPage:r})},t+r),s.jsx("div",{className:"mt-5 flex w-full justify-center",children:s.jsx(c,{totalPages:n})})]})}},48553:(e,t,r)=>{"use strict";r.r(t),r.d(t,{authenticate:()=>b,createInvoice:()=>f,deleteInvoice:()=>p,updateInvoice:()=>x});var s=r(34600);r(99195);var n=r(11287),a=r(7590),i=r(61726),o=r(41412),c=r(10736),l=r(79510),d=r(82990);let u=n.z.object({id:n.z.string(),customerId:n.z.string({invalid_type_error:"Please select a customer."}),amount:n.z.coerce.number().gt(0,{message:"Please enter an amount greater than $0."}),status:n.z.enum(["pending","paid"],{invalid_type_error:"Please select an invoice status."}),date:n.z.string()}),m=u.omit({id:!0,date:!0}),h=u.omit({id:!0,date:!0});async function f(e,t){let r=m.safeParse({customerId:t.get("customerId"),amount:t.get("amount"),status:t.get("status")});if(!r.success)return{errors:r.error.flatten().fieldErrors,message:"Missing Fields. Failed to Create Invoice."};let{customerId:s,amount:n,status:c}=r.data,l=new Date().toISOString().split("T")[0];try{await a.i6`
        INSERT INTO invoices (customer_id, amount, status, date)
        VALUES (${s}, ${100*n}, ${c}, ${l})
      `}catch(e){return{message:"Database Error: Failed to Create Invoice."}}(0,i.revalidatePath)("/dashboard/invoices"),(0,o.redirect)("/dashboard/invoices")}async function x(e,t,r){let s=h.safeParse({customerId:r.get("customerId"),amount:r.get("amount"),status:r.get("status")});if(!s.success)return{errors:s.error.flatten().fieldErrors,message:"Missing Fields. Failed to Update Invoice."};let{customerId:n,amount:c,status:l}=s.data;try{await a.i6`
        UPDATE invoices
        SET customer_id = ${n}, amount = ${100*c}, status = ${l}
        WHERE id = ${e}
      `}catch(e){return{message:"Database Error: Failed to Update Invoice."}}(0,i.revalidatePath)("/dashboard/invoices"),(0,o.redirect)("/dashboard/invoices")}async function p(e){try{return await a.i6`DELETE FROM invoices WHERE id = ${e}`,(0,i.revalidatePath)("/dashboard/invoices"),{message:"Deleted Invoice."}}catch(e){return{message:"Database Error: Failed to Delete Invoice."}}}async function b(e,t){try{await (0,c.zB)("credentials",t)}catch(e){if(e instanceof l.l){if("CredentialsSignin"===e.type)return"Invalid credentials.";return"Something went wrong."}throw e}}(0,d.h)([f,x,p,b]),(0,s.U)("e43200fe4089c49b11cc781a720ec48867c46fd0",null,f),(0,s.U)("230896eacb367806648ee424f9a128effa8aa96d",null,x),(0,s.U)("dc8e4fc0d616ba2f2b7ef2239a11b9575732fa4d",null,p),(0,s.U)("28095e2ba3ae7a5c0ebdf63b15c9983b0332102f",null,b)},95478:(e,t,r)=>{"use strict";r.d(t,{BX:()=>m,D1:()=>u,NI:()=>o,V_:()=>d,qu:()=>c,t2:()=>i,x4:()=>l});var s=r(7590),n=r(98760),a=r(61726);async function i(){(0,a.unstable_noStore)();try{let e=await s.i6`SELECT * FROM revenue`;return e.rows}catch(e){throw console.error("Database Error:",e),Error("Failed to fetch revenue data.")}}async function o(){(0,a.unstable_noStore)();try{let e=await s.i6`
      SELECT invoices.amount, customers.name, customers.image_url, customers.email, invoices.id
      FROM invoices
      JOIN customers ON invoices.customer_id = customers.id
      ORDER BY invoices.date DESC
      LIMIT 5`,t=e.rows.map(e=>({...e,amount:(0,n.xG)(e.amount)}));return t}catch(e){throw console.error("Database Error:",e),Error("Failed to fetch the latest invoices.")}}async function c(){(0,a.unstable_noStore)();try{let e=s.i6`SELECT COUNT(*) FROM invoices`,t=s.i6`SELECT COUNT(*) FROM customers`,r=s.i6`SELECT
         SUM(CASE WHEN status = 'paid' THEN amount ELSE 0 END) AS "paid",
         SUM(CASE WHEN status = 'pending' THEN amount ELSE 0 END) AS "pending"
         FROM invoices`,a=await Promise.all([e,t,r]),i=Number(a[0].rows[0].count??"0"),o=Number(a[1].rows[0].count??"0"),c=(0,n.xG)(a[2].rows[0].paid??"0"),l=(0,n.xG)(a[2].rows[0].pending??"0");return{numberOfCustomers:o,numberOfInvoices:i,totalPaidInvoices:c,totalPendingInvoices:l}}catch(e){throw console.error("Database Error:",e),Error("Failed to fetch card data.")}}async function l(e,t){(0,a.unstable_noStore)();try{let r=await s.i6`
      SELECT
        invoices.id,
        invoices.amount,
        invoices.date,
        invoices.status,
        customers.name,
        customers.email,
        customers.image_url
      FROM invoices
      JOIN customers ON invoices.customer_id = customers.id
      WHERE
        customers.name ILIKE ${`%${e}%`} OR
        customers.email ILIKE ${`%${e}%`} OR
        invoices.amount::text ILIKE ${`%${e}%`} OR
        invoices.date::text ILIKE ${`%${e}%`} OR
        invoices.status ILIKE ${`%${e}%`}
      ORDER BY invoices.date DESC
      LIMIT ${6} OFFSET ${(t-1)*6}
    `;return r.rows}catch(e){throw console.error("Database Error:",e),Error("Failed to fetch invoices.")}}async function d(e){(0,a.unstable_noStore)();try{let t=await s.i6`SELECT COUNT(*)
    FROM invoices
    JOIN customers ON invoices.customer_id = customers.id
    WHERE
      customers.name ILIKE ${`%${e}%`} OR
      customers.email ILIKE ${`%${e}%`} OR
      invoices.amount::text ILIKE ${`%${e}%`} OR
      invoices.date::text ILIKE ${`%${e}%`} OR
      invoices.status ILIKE ${`%${e}%`}
  `,r=Math.ceil(Number(t.rows[0].count)/6);return r}catch(e){throw console.error("Database Error:",e),Error("Failed to fetch total number of invoices.")}}async function u(e){(0,a.unstable_noStore)();try{let t=await s.i6`
      SELECT
        invoices.id,
        invoices.customer_id,
        invoices.amount,
        invoices.status
      FROM invoices
      WHERE invoices.id = ${e};
    `,r=t.rows.map(e=>({...e,amount:e.amount/100}));return console.log(r),r[0]}catch(e){throw console.error("Database Error:",e),Error("Failed to fetch invoice.")}}async function m(){try{let e=await s.i6`
      SELECT
        id,
        name
      FROM customers
      ORDER BY name ASC
    `,t=e.rows;return t}catch(e){throw console.error("Database Error:",e),Error("Failed to fetch all customers.")}}},98760:(e,t,r)=>{"use strict";r.d(t,{p9:()=>n,tk:()=>a,xG:()=>s});let s=e=>(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"}),n=(e,t="en-US")=>{let r=new Date(e),s=new Intl.DateTimeFormat(t,{day:"numeric",month:"short",year:"numeric"});return s.format(r)},a=e=>{let t=[],r=Math.max(...e.map(e=>e.revenue)),s=1e3*Math.ceil(r/1e3);for(let e=s;e>=0;e-=1e3)t.push(`$${e/1e3}K`);return{yAxisLabels:t,topLabel:s}}},82990:(e,t)=>{"use strict";function r(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Error(`A "use server" file can only export async functions, found ${typeof r}.`)}}Object.defineProperty(t,"h",{enumerable:!0,get:function(){return r}})},85399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(3542);let n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}),a=n}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[271,411,728,44,301,696,613,678],()=>r(37794));module.exports=s})();